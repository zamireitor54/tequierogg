<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Feliz cumpleaÃ±os PRECIOSA </title>

  <!-- Fuente: Poppins para cuerpo y Sacramento para tÃ­tulos -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Sacramento&display=swap" rel="stylesheet">

  <!-- CSS Principal -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="page">
    <header class="hero">
      <div class="hero-content">
        <h1 class="title">Feliz cumpleaÃ±os, mi amor</h1>
        <p class="subtitle">Hoy celebramos tu vida. Te amo mÃ¡s de lo que las palabras pueden decir.</p>
        <div class="hero-actions">
          <button id="btn-random-bday" class="btn">100 razones por las que soy feliz contigo y una por la que no</button>
        </div>
      </div>

      <figure class="hero-photo">
        <!-- Reemplaza 'tu-foto.jpg' por el nombre de tu archivo -->
  <img src="img/miniÃ±a.jpg" alt="Foto de mi niÃ±a" id="main-photo">
        <figcaption class="photo-caption">Para la persona que hace mis dÃ­as mejores</figcaption>
      </figure>
    </header>

    <section class="cards-section">
      <article class="card">
        <h2>Mensajitos para mi fresita</h2>
        <p class="desc">AquÃ­ unas palabras que quiero decirte.</p>
        <div id="bday-list" class="message-list"></div>
      </article>

      <article class="card">
        <h2>Lee esto cuando te sientas bajoneada, mi pinguinita</h2>
        <p class="desc">No todos los dÃ­as son felices y es normal, pero estos mensajitos pueden hacerte sentir mejor.</p>
        <div id="comfort-list" class="message-list"></div>
      </article>

      <article class="card">
        <h2>Mensajitos para mi niÃ±a</h2>
        <p class="desc">PequeÃ±os recordatorios de lo que siento por ti.</p>
        <div id="love-list" class="message-list"></div>
      </article>
    </section>

    <section class="extras">
      <div class="extra-card">
        <h3>Un mensaje para cada dÃ­a hasta el proximo cumpleaÃ±os mi niÃ±a</h3>
        <p>Selecciona un dÃ­a para leer tu mensaje especial. Los dÃ­as futuros se irÃ¡n desbloqueando mientras pasa el tiempo. </p>
        
        <div class="calendar-toggle-row">
          <button id="toggle-calendar" class="btn small">Abrir calendario ğŸ“–</button>
          <span id="selected-date" class="selected-date">17/11/2025</span>
          <button id="unlock-all" class="btn small outline">Desbloquear todos</button>
        </div>
        
        <div id="calendar-container" class="calendar-wrapper calendar-hidden">
          <div class="month-nav">
            <button id="prev-month" class="btn small month-btn">â† Anterior</button>
            <div id="current-month" class="current-month">Noviembre 2025</div>
            <button id="next-month" class="btn small month-btn">Siguiente â†’</button>
          </div>
          <div class="calendar-header">
            <div class="calendar-header-day">Lu</div>
            <div class="calendar-header-day">Ma</div>
            <div class="calendar-header-day">Mi</div>
            <div class="calendar-header-day">Ju</div>
            <div class="calendar-header-day">Vi</div>
            <div class="calendar-header-day">Sa</div>
            <div class="calendar-header-day">Do</div>
          </div>
          <div id="calendar" class="calendar-grid"></div>
        </div>
        
        <div id="message-display" class="message-display"></div>
      </div>

      <div class="extra-card">
        <h3>Recuerdos donde el tiempo se para</h3>
        <p><strong>Algunos recuerdos lindos </strong></p>
        <p style="font-style: italic; color: #7c49ff; margin-bottom: 16px;">No sabes lo feliz que soy contigo... cada foto muestra tu hermosura.</p>

  

		<div id="print-gallery" class="print-gallery" aria-hidden="false">
          <div class="photo-frame" id="photo-frame" role="button" tabindex="0" title="Haz clic para ver la siguiente foto">
            <!-- BotÃ³n para expandir la imagen -->
            <button id="photo-expand" class="photo-expand-btn" aria-label="Expandir foto">â¤¢</button>
          </div>
          <p style="text-align: center; font-size: 0.85rem; color: #999; margin-top: 8px;">Haz clic en la foto para ver la siguiente</p>
        </div>
      </div>
    </section>

    
  </main>

  <!-- Imagen de certificado a pantalla completa (coloca tu archivo en img/certificate.jpg) -->
  <!-- Super-gallery full-bleed (moved here) -->
  <section class="super-gallery full-bleed">
    <div class="super-gallery-inner">
      <div class="super-gallery-head">
        <h4>Nuestra galerÃ­a ğŸ’</h4>
        <p class="muted">Sube fotos con lugar y fecha. Se guardan solitas y aparecen aquÃ­.</p>

        <div class="super-gallery-actions">
          <button id="btn-clear-filter" class="btn small outline" style="display:none;">âœ– Quitar filtro</button>

          <button id="btn-open-upload" class="btn small">â• Subir recuerdo</button>

          <select id="filter-place" class="select small">
            <option value="">ğŸ“ Todos los lugares</option>
          </select>

          <input id="search-caption" class="input small" type="text" placeholder="Buscar (ej: playa, cine, noche...)">
        </div>
      </div>

      <div id="super-gallery-grid" class="super-gallery-grid"></div>
    </div>
  </section>

  <!-- Modal subir -->
  <div id="upload-modal" class="modal hidden" aria-hidden="true">
    <div class="modal-card">
      <h3>Subir recuerdo ğŸ’–</h3>
      <p class="muted">Selecciona fotos y escribe dÃ³nde fue y quÃ© recuerdas.</p>

      <!-- Login box (solo aparece si no hay sesiÃ³n) -->
      <div id="auth-box" class="auth-box">
        <div class="auth-row">
          <input id="auth-email" class="input" type="email" placeholder="Tu correo" autocomplete="email">
          <input id="auth-pass" class="input" type="password" placeholder="Tu contraseÃ±a" autocomplete="current-password">
        </div>
        <div class="auth-actions">
          <button id="btn-login" class="btn small">Iniciar sesiÃ³n</button>
          <button id="btn-logout" class="btn small outline" style="display:none;">Cerrar sesiÃ³n</button>
          <span id="auth-state" class="muted"></span>
        </div>
        <hr style="border:none;border-top:1px solid rgba(124,73,255,0.12); margin:12px 0;">
      </div>

      <label class="field">
        <span>Fotos</span>
        <input id="upload-files" type="file" accept="image/*" multiple>
      
      <div id="upload-preview" class="upload-preview"></div>
      </label>

      <div class="row">
        <label class="field">
          <span>ğŸ“ Lugar</span>
          <input id="upload-place" class="input" type="text" placeholder="Ej: MedellÃ­n, Cartagena, Parque..." />
        </label>

        <label class="field">
          <span>ğŸ“… Fecha</span>
          <input id="upload-date" class="input" type="date" />
        </label>
      </div>

      <label id="album-field" class="field">
        <span id="album-label">ğŸ–¼ï¸ Nombre de la foto</span>
        <input id="upload-album" class="input" type="text" placeholder="Ej: Mi princesa hermosa..." />
      </label>

      <label class="field">
        <span>ğŸ’Œ Mensajito</span>
        <textarea id="upload-caption" class="textarea" rows="3" placeholder="Ej: Ese dÃ­a la pasamos demasiado lindo..."></textarea>
      </label>

      <div class="modal-actions">
        <button id="btn-cancel-upload" class="btn small outline">Cancelar</button>
        <button id="btn-do-upload" class="btn small">Guardar</button>
      </div>

      <div id="upload-status" class="muted" style="margin-top:10px;"></div>
    </div>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox hidden" aria-hidden="true">
    <button id="lightbox-close" class="lightbox-close">âœ•</button>
    <button id="lightbox-prev" class="lightbox-nav prev">â—€</button>
    <button id="lightbox-next" class="lightbox-nav next">â–¶</button>

    <figure class="lightbox-figure">
      <img id="lightbox-img" alt="Recuerdo">
      <figcaption id="lightbox-cap"></figcaption>
    </figure>
  </div>

  <div class="certificate-full" aria-hidden="false">
    <img id="certificate-img" src="img/Certificado de AdopciÃ³n Perro Ilustrado Verde.png" alt="Certificado" />
  </div>
<footer class="footer">
      <p>Hecho con cariÃ±o. Para la niÃ±a mas HERMOSOSOSOSOSOSISIMA</p>
      <p class="muted">No olvides lo mucho que te quiero</p>
    </footer>

  <!-- FAB Notas -->
  <button id="notes-fab" class="notes-fab" aria-label="Abrir notas">ğŸ“</button>

  <!-- Modal Notas -->
  <div id="notes-modal" class="notes-modal hidden" role="dialog" aria-modal="true">
    <div class="notes-card">
      <div class="notes-head">
        <div>
          <h3>Nuestras notas ğŸ’—</h3>
          <p class="muted" style="margin:0;">3 cuadernos: General, Geral y Zamir.</p>
        </div>
        <button id="notes-close" class="notes-x" aria-label="Cerrar">âœ•</button>
      </div>

      <div class="notes-tabs">
        <button class="notes-tab active" data-cat="general">ğŸŒ¸ General</button>
        <button class="notes-tab" data-cat="geral">ğŸ’— Para Geral</button>
        <button class="notes-tab" data-cat="zamir">ğŸ–¤ Para Zamir</button>
      </div>

      <div class="notes-compose">
        <textarea id="notes-input" class="textarea" rows="3" placeholder="Escribe una nota..."></textarea>
        <div class="notes-actions">
          <button id="notes-add" class="btn small">Guardar</button>
          <button id="notes-clear" class="btn small outline">Limpiar</button>
          <span id="notes-status" class="muted"></span>
        </div>
      </div>

      <div class="notes-list" id="notes-list"></div>
    </div>
  </div>
</footer>
  <!-- SDK de Supabase (debe cargarse SIN defer) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- MÃ³dulos de la aplicaciÃ³n -->
  <script src="js/messages.js" defer></script>
  <script src="js/calendar.js" defer></script>
  <script src="js/printGallery.js" defer></script>
  <script src="js/gallery.js" defer></script>
  <!-- Script principal de inicializaciÃ³n -->
  <script src="app.js" defer></script>
  <!-- Script de notas -->
  <script src="notes.js" defer></script>
</body>
</html>
